{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\OneDrive\\\\Desktop\\\\taskpulse-mern\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [title, setTitle] = useState('');\n  const [search, setSearch] = useState('');\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  const fetchTasks = useCallback(async () => {\n    try {\n      const {\n        data\n      } = await axios.get('http://localhost:5000/api/auth/tasks', config);\n      setTasks(data);\n    } catch (err) {\n      console.error(\"Error fetching tasks\", err);\n    }\n  }, [token]);\n  useEffect(() => {\n    fetchTasks();\n  }, [fetchTasks]);\n  const addTask = async e => {\n    e.preventDefault();\n    try {\n      await axios.post('http://localhost:5000/api/tasks', {\n        title\n      }, config);\n      setTitle('');\n      fetchTasks();\n    } catch (err) {\n      alert(\"Error adding task\");\n    }\n  };\n  const deleteTask = async id => {\n    try {\n      await axios.delete(`http://localhost:5000/api/tasks/${id}`, config);\n      fetchTasks();\n    } catch (err) {\n      alert(\"Error deleting task\");\n    }\n  };\n  const filteredTasks = tasks.filter(t => t.title.toLowerCase().includes(search.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-10 max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold\",\n        children: \"User Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          localStorage.clear();\n          window.location.href = '/login';\n        },\n        className: \"bg-red-500 text-white px-4 py-2 rounded\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"w-full border p-3 mb-6\",\n      placeholder: \"\\uD83D\\uDD0D Search tasks...\",\n      value: search,\n      onChange: e => setSearch(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addTask,\n      className: \"flex gap-4 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"flex-grow border p-3\",\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        placeholder: \"Enter new task...\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-green-600 text-white px-6 py-3 rounded\",\n        children: \"Add Task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4\",\n      children: filteredTasks.length > 0 ? filteredTasks.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center bg-white p-4 rounded shadow border\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg\",\n          children: task.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteTask(task._id),\n          className: \"text-red-500 font-bold hover:text-red-700\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)]\n      }, task._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 text-center\",\n        children: \"No tasks found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"ezCtipA7CviMntG9Fgq/yfGifeE=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","useCallback","axios","jsxDEV","_jsxDEV","Dashboard","_s","tasks","setTasks","title","setTitle","search","setSearch","token","localStorage","getItem","config","headers","Authorization","fetchTasks","data","get","err","console","error","addTask","e","preventDefault","post","alert","deleteTask","id","delete","filteredTasks","filter","t","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","clear","window","location","href","placeholder","value","onChange","target","onSubmit","required","length","map","task","_id","_c","$RefreshReg$"],"sources":["C:/Users/Hp/OneDrive/Desktop/taskpulse-mern/client/src/pages/Dashboard.js"],"sourcesContent":["import { useEffect, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Dashboard = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [title, setTitle] = useState('');\r\n  const [search, setSearch] = useState('');\r\n  const token = localStorage.getItem('token');\r\n\r\n  const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n  const fetchTasks = useCallback(async () => {\r\n    try {\r\n      const { data } = await axios.get('http://localhost:5000/api/auth/tasks', config);\r\n      setTasks(data);\r\n    } catch (err) {\r\n      console.error(\"Error fetching tasks\", err);\r\n    }\r\n  }, [token]); \r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, [fetchTasks]); \r\n\r\n  const addTask = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:5000/api/tasks', { title }, config);\r\n      setTitle('');\r\n      fetchTasks(); \r\n    } catch (err) {\r\n      alert(\"Error adding task\");\r\n    }\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/tasks/${id}`, config);\r\n      fetchTasks(); \r\n    } catch (err) {\r\n      alert(\"Error deleting task\");\r\n    }\r\n  };\r\n\r\n  const filteredTasks = tasks.filter(t => \r\n    t.title.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"p-10 max-w-4xl mx-auto\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <h1 className=\"text-3xl font-bold\">User Dashboard</h1>\r\n        <button \r\n          onClick={() => { localStorage.clear(); window.location.href = '/login'; }} \r\n          className=\"bg-red-500 text-white px-4 py-2 rounded\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n\r\n      <input \r\n        className=\"w-full border p-3 mb-6\" \r\n        placeholder=\"ðŸ” Search tasks...\" \r\n        value={search}\r\n        onChange={(e) => setSearch(e.target.value)} \r\n      />\r\n\r\n      <form onSubmit={addTask} className=\"flex gap-4 mb-8\">\r\n        <input \r\n          className=\"flex-grow border p-3\" \r\n          value={title} \r\n          onChange={(e) => setTitle(e.target.value)} \r\n          placeholder=\"Enter new task...\" \r\n          required \r\n        />\r\n        <button className=\"bg-green-600 text-white px-6 py-3 rounded\">Add Task</button>\r\n      </form>\r\n\r\n      <div className=\"grid gap-4\">\r\n        {filteredTasks.length > 0 ? (\r\n          filteredTasks.map(task => (\r\n            <div key={task._id} className=\"flex justify-between items-center bg-white p-4 rounded shadow border\">\r\n              <span className=\"text-lg\">{task.title}</span>\r\n              <button onClick={() => deleteTask(task._id)} className=\"text-red-500 font-bold hover:text-red-700\">\r\n                Delete\r\n              </button>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p className=\"text-gray-500 text-center\">No tasks found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}